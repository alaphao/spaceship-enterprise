<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Spaceship</title>
    <script src="jquery-3.1.0.min.js" type="text/javascript"></script>
    <script src="jquery-3.1.0.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="dist/css/fonts/playfair-display/PlayfairDisplay-Regular.ttf">
    <link rel="stylesheet" href="dist/css/fonts/playfair-display/PlayfairDisplay-Bold.ttf">
    <link rel="stylesheet" href="dist/css/magnifier.css"/>
    <link rel="stylesheet" href="dist/css/style.css"/>
  </head>
  <body>
    <img class="imgpreloader" src="src/img/spaceship-winresults-closed.png" />
    <img class="imgpreloader" src="src/img/spaceship-deliver-closed.png" />
    <img class="imgpreloader" src="src/img/spaceship-design-closed.png" />
    <img class="imgpreloader" src="src/img/spaceship-explore-closed.png" />
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>
    <div class="spaceship-container">
      <img class="spaceship-fire" src="src/img/fire.gif" alt="">
      <div class="spaceship-winresults spaceship-part" data-spacesec="winresults" data-title="Win Results" data-body="Congratulations! Your idea has become an innovation.">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
      </div>
      <div class="spaceship-deliver spaceship-part" data-spacesec="deliver" data-title="Deliver" data-body="Time to hit peak performance.">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
      </div>
      <div class="spaceship-design spaceship-part" data-spacesec="design" data-title="Design" data-body="Flow your idea through your whole system.">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
      </div>
      <div class="spaceship-explore spaceship-part magnifier-thumb-wrapper" data-spacesec="explore" data-title="Explore" data-body="Start with the fuel to power your engine.">
        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
      </div>

      <div id="spc-si-innovation" class="spc-si-item spc-si-innovation" data-spacepart="winresults" data-title="Win results" data-body="Your idea only becomes an innovation when starts creating value. At that point, you unleash new power to boost your organisation’s throughput."></div>
      <div id="spc-si-innovation2" class="spc-si-item spc-si-innovation2" data-spacepart="winresults" data-title="Win results" data-body="Your idea only becomes an innovation when starts creating value. At that point, you unleash new power to boost your organisation’s throughput."></div>

      <div id="spc-si-technology" class="spc-si-item spc-si-technology" data-spacepart="deliver" data-title="Profoundly transform with technology" data-body="When you leverage technology for the value-creating parts of your organisation, you reap the rewards of the digital age."></div>
      <div id="spc-si-technology2" class="spc-si-item spc-si-technology2" data-spacepart="deliver" data-title="Profoundly transform with technology" data-body="When you leverage technology for the value-creating parts of your organisation, you reap the rewards of the digital age."></div>
      <div id="spc-si-people" class="spc-si-item spc-si-people" data-spacepart="deliver" data-title="Develop the amazing in people" data-body="When you empower people to increase the rate at which they perform only value-adding work, you build their sense of autonomy, mastery and purpose."></div>
      <div id="spc-si-process" class="spc-si-item spc-si-process" data-spacepart="deliver" data-title="Engineer seamless processes" data-body="What can you standardise and repeat? Who does it? When? With what aim? Asking these questions reliably is half of the answer—we help close the circle."></div>

      <div id="spc-si-culture" class="spc-si-item spc-si-culture" data-spacepart="design" data-title="Cultivate a winning culture" data-body="When you understand, codify and develop the shared assumptions and behaviours of your team, your people will learn to adapt to the external world and to work together energetically towards a common goal."></div>
      <div id="spc-si-language" class="spc-si-item spc-si-language" data-spacepart="design" data-title="Engage purposeful language" data-body="People are meaning-making machines, basing action on verbal, written, visual, aural and bodily cues. How you communicate plans and expectations makes all the difference in the world."></div>
      <div id="spc-si-organisation" class="spc-si-item spc-si-organisation" data-spacepart="design" data-title="Cleave to a requisite organisation" data-body="When you establish accountability and expectations at each level of work, your people can take ownership of their roles, with inspiring results for the whole team."></div>
      <div id="spc-si-resources" class="spc-si-item spc-si-resources" data-spacepart="design" data-title="Mindfully manage resources" data-body="How will you turn intention into reality, every time—on time and on budget? Here we define the human, material, information and financial resources required to do the work."></div>
      <div id="spc-si-operations" class="spc-si-item spc-si-operations" data-spacepart="design" data-title="Design systematic operations" data-body="We apply the Theory of Constraints to the way you work with your resources in and across time and space to achieve your organisational goal."></div>

      <div id="spc-si-strategy" class="spc-si-item spc-si-strategy" data-spacepart="explore" data-title="Strategy for every domain" data-body="How will your idea flow through the engine that powers your organisation? Each domain is affected, whether or not you make intentional changes. Through strategic planning, you align your system in each area and exert positive influences that maximise your return."></div>
      <div id="spc-si-idea" class="spc-si-item spc-si-idea" data-spacepart="explore" data-title="Turn your idea into innovation" data-body="Your goal is to create additional value and wealth by applying expertise and leverage to the core domains of your value-creation engine. Success starts with a good idea."></div>

      <img class="spaceship-cockpit spc-si-item" src="src/img/cockpit-module-small.png" data-spacesec="cockpit" data-title="VMO module" data-body="To see our services, take command of the cockpit."/>
      <img class="cockpit-fire" src="src/img/fire.gif" alt=""/>

      <div id="sonar-container" class="sonar-container">
        <div class="sonar-wave"></div>
        <div class="sonar-wave"></div>
        <div class="sonar-wave"></div>
        <div class="sonar-wave"></div>
      </div>
    </div>

    <div class="spaceship-header">
      <h1>The Ensemble Way</h1>
      <h4>
        Your organisation is a vehicle for creating value.<br/>
        With the right stuff, you can shoot for the stars.
      </h4>
      <h3>Welcome aboard your spaceship enterprise…</h3>
    </div>

    <div id="hud" class="hud">
      <h3 id="hud-title" class="hud-title"></h3>
      <p id="hud-body" class="hud-body"></p>
    </div>

    <!-- <div class="the-space"></div> -->

    <script type="text/javascript">
      $(function() {

        $('.spaceship-container > .spaceship-part > img').click(function(e) {
            var el = $(this).parent();
            var elBgImg = el.css('background-image');

            // if image have -open in its src, toggle to -closed and vice versa
            if (elBgImg.indexOf('-open') >= 0) {
              var newBgImg = elBgImg.replace('-open', '-closed')
              el.css('background-image', newBgImg);
              var spacesec = el.data('spacesec');
              $('.spc-si-item[data-spacepart="' + spacesec +'"]').css({
                display: 'none'
              });

              if (el.hasClass('spaceship-deliver')) {
                $('.sonar-container').stop();
                $('.spaceship-cockpit').stop();
                $('.sonar-container').clearQueue();
                $('.spaceship-cockpit').clearQueue();

                $('.sonar-container').fadeOut();
                $('.spaceship-cockpit').hide();
                // $('.cockpit-open').removeClass('cockpit-open').addClass('cockpit-closed');
              }
            } else if (elBgImg.indexOf('-closed') >= 0) {
              var newBgImg = elBgImg.replace('-closed', '-open');
              el.css('background-image', newBgImg);
              var spacesec = el.data('spacesec');
              $('.spc-si-item[data-spacepart="' + spacesec +'"]').css({
                display: 'block'
              });

              if (el.hasClass('spaceship-deliver')) {
                $('.sonar-container').stop();
                $('.spaceship-cockpit').stop();
                $('.sonar-container').clearQueue();
                $('.spaceship-cockpit').clearQueue();

                $('.sonar-container').fadeIn();
                $('.spaceship-cockpit').show();
                // $('.cockpit-closed').removeClass('cockpit-closed').addClass('cockpit-open');
              }
            }
        });

        $('.spaceship-cockpit').click(function() {
          var cockpit = $(this);
          var cockpitFire = $('.cockpit-fire');

          $('.sonar-container').fadeOut();
          cockpit.addClass('cockpit-zoom');
          cockpitFire.addClass('cockpit-fire-zoom');

          setTimeout(function(){
            cockpit.attr('src', 'src/img/cockpit-module-big.png')
          }, 1000);

          setTimeout(function(){
            window.location.assign('https://ensemblenew.wpengine.com/EnsembleWay/Services/index.html');
            cockpit.attr('src', 'src/img/cockpit-module-small.png')
            $('.sonar-container').fadeIn();
          }, 4900);

          setTimeout(function(){
            cockpit.removeClass('cockpit-zoom');
            cockpitFire.removeClass('cockpit-fire-zoom');
          }, 5000);
        });

        $('.spaceship-container img').mouseenter(function(e) {
          // show hud and set its position
          if ($(this).parent().css('background-image').indexOf('-closed') >= 0) {
            var hud = $('#hud');
            $('#hud-title').text($(this).parent().data('title'));
            $('#hud-body').text($(this).parent().data('body'));

            hud.stop();
            hud.clearQueue();
            hud.fadeIn();
          }
        });

        $('.spaceship-container img').mousemove(function(e) {
          // show hud and set its position
          if ($(this).parent().css('background-image').indexOf('-closed') >= 0) {
            var hud = $('#hud');
            var left = e.originalEvent.clientX + 20;
            var top = e.originalEvent.clientY;
            top = e.originalEvent.clientY > $('html').height() / 2 ? top - hud.height() : top;

            if (hud.css('display') === 'none') {
              hud.mouseenter(e);
            }

            hud.css({
              top: top,
              left: left
            });
          }
        });

        $('.spaceship-container img').mouseleave(function(e) {
          // hide hud
          var hud = $('#hud');
          hud.stop();
          hud.clearQueue();
          hud.fadeOut();
        });

        $('.spc-si-item').mouseenter(function(e) {
          var hud = $('#hud');
          $('#hud-title').text($(this).data('title'));
          $('#hud-body').text($(this).data('body'));

          hud.stop();
          hud.clearQueue();
          hud.fadeIn();
        });

        $('.spc-si-item').mousemove(function(e) {
          var hud = $('#hud');

          var left = e.originalEvent.clientX + 20;
          var top = e.originalEvent.clientY;
          top = e.originalEvent.clientY > $('html').height() / 2 ? top - hud.height() : top;

          hud.css({
            top: top,
            left: left
          });
        });

        $('.spc-si-item').mouseleave(function(e) {
          // hide hud
          var hud = $('#hud');
          hud.stop();
          hud.clearQueue();
          hud.fadeOut();
        });

        $('.spc-si-item').click(function(e) {
          // toggle spaceship section state then sub item is clicked
              e.preventDefault();
              $('.spaceship-' + $(e.target).data('spacepart') + ' img').click();
            });
      });
    </script>
  </body>
</html>
